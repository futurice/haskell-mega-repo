name:           library-app
version:        0
synopsis:       Book catalogy and loaning service
description:    ...
category:       Web
homepage:       https://github.com/futurice/haskell-mega-repo#readme
bug-reports:    https://github.com/futurice/haskell-mega-repo/issues
author:         Toni Okuogume <toni.okuogume@futurice.com>
maintainer:     Toni Okuogume <toni.okuogume@futurice.com>
license:        BSD3
license-file:   LICENSE
build-type:     Simple
cabal-version:  >= 1.10

source-repository head
  type: git
  location: https://github.com/futurice/haskell-mega-repo

library
  default-language: Haskell2010
  hs-source-dirs: src
  ghc-options: -Wall
  default-extensions:
    GeneralizedNewtypeDeriving
    DeriveAnyClass
    DeriveDataTypeable
    DeriveFoldable
    DeriveFunctor
    DeriveGeneric
    DeriveTraversable
    DerivingStrategies
    ScopedTypeVariables
  build-depends:
      base >= 4.7 && <4.12
      , aeson
      , base64-bytestring
      , bytestring
      , containers
      , cryptohash-sha256
      , env-config
      , fum-types
      , futurice-constants
      , futurice-foundation
      , futurice-integrations
      , futurice-postgres
      , futurice-prelude
      , futurice-servant
      , futurice-tribes
      , http-client
      , http-types
      , JuicyPixels
      , personio-client
      , postgresql-simple
      , servant
      , servant-client
      , servant-JuicyPixels
      , servant-lucid
      , servant-multipart
      , servant-server
      , sisosota-client
      , swagger2
      , text
      , time
      , xeno
  exposed-modules:
      Futurice.App.Library
      Futurice.App.Library.API
      Futurice.App.Library.Ctx
      Futurice.App.Library.Config
      Futurice.App.Library.Logic
      Futurice.App.Library.Markup
      Futurice.App.Library.Pages.AddItemPage
      Futurice.App.Library.Pages.BoardGameInformationPage
      Futurice.App.Library.Pages.BookInformationPage
      Futurice.App.Library.Pages.EditItemPage
      Futurice.App.Library.Pages.IndexPage
      Futurice.App.Library.Pages.PersonalLoansPage
      Futurice.App.Library.Types
      Futurice.App.Library.Types.AddItemRequest
      Futurice.App.Library.Types.BoardGameInformation
      Futurice.App.Library.Types.BoardGameInformationResponse
      Futurice.App.Library.Types.BookInformation
      Futurice.App.Library.Types.BookInformationResponse
      Futurice.App.Library.Types.BookInformationByISBNResponse
      Futurice.App.Library.Types.BorrowRequest
      Futurice.App.Library.Types.EditItemRequest
      Futurice.App.Library.Types.Item
      Futurice.App.Library.Types.Library
      Futurice.App.Library.Types.Loan
      Futurice.App.Library.Types.Search

executable library-app-server
  main-is: Main.hs
  hs-source-dirs:
      srv
  ghc-options: -Wall -Wall -threaded -rtsopts
  build-depends:
      base >= 4.7 && <4.12
    , futurice-prelude
    , library-app
  default-language: Haskell2010

test-suite unit-tests
  type: exitcode-stdio-1.0
  main-is: Tests.hs
  hs-source-dirs:
      tests/
  ghc-options: -Wall
  build-depends:
      base
    , env-config
    , futurice-postgres
    , futurice-prelude
    , log-base
    , postgresql-simple
    , sisosota-client
    , tasty
    , tasty-hunit
    , tasty-quickcheck
    , text
    , library-app
  default-language: Haskell2010
